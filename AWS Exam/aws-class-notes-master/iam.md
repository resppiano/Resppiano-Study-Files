# IAM

Iam lets you manage users and their AWS console permissions

Can also do identity federation (AD, Facebook, Linkedin etc.)

Multi factor auth

Temp access by device.

password polices

PCI/DSS compliance (this is a broad set of security standards)

New users have no permissions by default

New users get access key id and secret access key which are used for cli, sdk etc. These are not the same as a password, and they can't be used to sign in to console.

Secret can only be viewed once. If you need them again you need to generate a new set.

ALWAYS set up MFA on the root account.

(we will come back to IAM closer to the end)

Power users can access everything in aws except for managing users in IAM (this wasn't in the lecture but it showed up in the quiz?)

## Taxonomy

* Users - obvious
* Groups - multiple users with shared permissions/roles
* Role - roles get assigned to resources. example you coudl set up a role for a single ec2 instance
* Policies - docuiment that defines permission(s)
* Root account - account that gets made when you first create aws account. Has full permissions

## Lab

IAM is not in a region, it's global. Know this

Activated MFA on the root account.

User can have programmatic access (CLI) or console (web) access or both

created an admin user 'tromeo'. added to an admin group with the AdministratorAccess policy, which is completely permissive

created users get an access key id and a secret access key for cli, and an autogenerated password. ONLY GET TO SEE THESE ONCE, so download the csv

a lot of policies already exist, so make sure to check existing policies for groups.

can also add permissions to an individual user, not just a group

Can inactive keys though credentials tab. Can also generate new keys, and you can see the secret for that key right then.

Last thing to do is assign a password policy. Simple enough

Roles can grant permissions to things that arent users. IAM in another acount, EC2 instance, SAML authec corporate directory

creating a role that lets ec2 instances write to s3

created an EC2 role, applied the AmazonS3FullAccess policy to the role which we named s3-admin-access. (this will be used later in the ec2 section)

## billing alert lab

make an alarm that sends me an email if the billing goes over $10

(not really related to IAM at all, but it's important to do early so I don't get screwed)

i also set up a free tier alert since I'm here